{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/reactchat/src/component/Sidebar.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../config/firebase';\nimport { collection, onSnapshot, query, where } from 'firebase/firestore';\nconst Sidebar = ({\n  roomId\n}) => {\n  const [members, setMembers] = useState([]);\n  useEffect(() => {\n    if (!roomId) return;\n    const sql = query(collection(db, \"mchat\"), where(\"roomId\", \"==\", roomId));\n    const unsubscribe = onSnapshot(sql, rs => {\n      const membersData = [];\n      rs.forEach(doc => {\n        membersData.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setMembers(membersData);\n    });\n    return () => unsubscribe();\n  }, [roomId]);\n  console.log(members);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar position-absolute bg-white shadow p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, members.map(mem => /*#__PURE__*/React.createElement(\"li\", {\n    key: mem.id,\n    className: \"flex align-items-center my-2 py-2 border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: mem.uicon,\n    className: \"uicon me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }), mem.nick, \" \\uB2D8.\"))));\n};\nexport default Sidebar;","map":{"version":3,"names":["React","useEffect","useState","db","collection","onSnapshot","query","where","Sidebar","roomId","members","setMembers","sql","unsubscribe","rs","membersData","forEach","doc","push","data","id","console","log","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","mem","key","src","uicon","nick"],"sources":["/Users/apple/Desktop/reactchat/src/component/Sidebar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { db } from '../config/firebase'\r\nimport { collection, onSnapshot, query, where} from 'firebase/firestore'\r\n\r\nconst Sidebar = ({roomId}) => {\r\n  const [members, setMembers] = useState([]);\r\n  useEffect(()=>{\r\n     if(!roomId) return;\r\n     const sql = query(collection(db, \"mchat\"), where(\"roomId\", \"==\", roomId));\r\n     const unsubscribe = onSnapshot(sql, (rs) => {\r\n        const membersData = [];\r\n        rs.forEach((doc)=>{\r\n            membersData.push({...doc.data(), id: doc.id});\r\n        });\r\n        setMembers(membersData);\r\n     });\r\n     return ()=>unsubscribe();\r\n  }, [roomId]);\r\n  console.log(members);\r\n  return (\r\n    <div className=\"sidebar position-absolute bg-white shadow p-5\">\r\n        <ul>\r\n        {members.map((mem)=>(\r\n            <li key={mem.id} className=\"flex align-items-center my-2 py-2 border-bottom\">\r\n                <img src={mem.uicon} className=\"uicon me-2\" />\r\n                {mem.nick} ë‹˜.  \r\n            </li>\r\n        ))}\r\n        </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,oBAAoB;AACvC,SAASC,UAAU,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAO,oBAAoB;AAExE,MAAMC,OAAO,GAAGA,CAAC;EAACC;AAAM,CAAC,KAAK;EAC5B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1CD,SAAS,CAAC,MAAI;IACX,IAAG,CAACQ,MAAM,EAAE;IACZ,MAAMG,GAAG,GAAGN,KAAK,CAACF,UAAU,CAACD,EAAE,EAAE,OAAO,CAAC,EAAEI,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEE,MAAM,CAAC,CAAC;IACzE,MAAMI,WAAW,GAAGR,UAAU,CAACO,GAAG,EAAGE,EAAE,IAAK;MACzC,MAAMC,WAAW,GAAG,EAAE;MACtBD,EAAE,CAACE,OAAO,CAAEC,GAAG,IAAG;QACdF,WAAW,CAACG,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC;UAAEC,EAAE,EAAEH,GAAG,CAACG;QAAE,CAAC,CAAC;MACjD,CAAC,CAAC;MACFT,UAAU,CAACI,WAAW,CAAC;IAC1B,CAAC,CAAC;IACF,OAAO,MAAIF,WAAW,CAAC,CAAC;EAC3B,CAAC,EAAE,CAACJ,MAAM,CAAC,CAAC;EACZY,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC;EACpB,oBACEV,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,+CAA+C;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1D9B,KAAA,CAAAuB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACCpB,OAAO,CAACqB,GAAG,CAAEC,GAAG,iBACbhC,KAAA,CAAAuB,aAAA;IAAIU,GAAG,EAAED,GAAG,CAACZ,EAAG;IAACI,SAAS,EAAC,iDAAiD;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxE9B,KAAA,CAAAuB,aAAA;IAAKW,GAAG,EAAEF,GAAG,CAACG,KAAM;IAACX,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,EAC7CE,GAAG,CAACI,IAAI,EAAC,UACV,CACP,CACG,CACH,CAAC;AAEV,CAAC;AAED,eAAe5B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}